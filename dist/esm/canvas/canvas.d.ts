import 'promise-polyfill';
import Buffers from '../buffers/buffers';
import { ContextVertexBuffers, IContextOptions } from '../context/context';
import Subscriber from '../core/subscriber';
import Logger from '../logger/logger';
import Textures, { ITextureData, ITextureInput, ITextureOptions } from '../textures/textures';
import Uniforms, { IUniformOption } from '../uniforms/uniforms';
import CanvasTimer from './canvas-timer';
export interface IPoint {
    x: number;
    y: number;
}
export interface ICanvasOptions extends IContextOptions {
    vertexString?: string;
    fragmentString?: string;
    backgroundColor?: string;
    workpath?: string;
    onError?: Function;
    extensions?: string[];
}
export default class Canvas extends Subscriber {
    options: ICanvasOptions;
    canvas: HTMLCanvasElement;
    gl: WebGLRenderingContext | WebGL2RenderingContext;
    program: WebGLProgram;
    timer: CanvasTimer;
    vertexBuffers: ContextVertexBuffers;
    rect: ClientRect | DOMRect;
    mouse: IPoint;
    uniforms: Uniforms;
    buffers: Buffers;
    textures: Textures;
    textureList: ITextureInput[];
    vertexString: string;
    fragmentString: string;
    width: number;
    height: number;
    devicePixelRatio: number;
    valid: boolean;
    animated: boolean;
    dirty: boolean;
    visible: boolean;
    rafId: number;
    constructor(canvas: HTMLCanvasElement, options?: ICanvasOptions);
    static logger: Logger;
    static items: Canvas[];
    static version(): string;
    static of(canvas: HTMLCanvasElement, options?: ICanvasOptions): Canvas;
    static loadAll(): Canvas[];
    private getShaders_;
    private addListeners_;
    private addCanvasListeners_;
    private removeCanvasListeners_;
    private removeListeners_;
    onScroll(e: Event): void;
    onClick(e: MouseEvent): void;
    onMove(mx: number, my: number): void;
    onMousemove(e: MouseEvent): void;
    onMouseover(e: MouseEvent): void;
    onMouseout(e: MouseEvent): void;
    onTouchmove(e: TouchEvent): void;
    onTouchend(e: TouchEvent): void;
    onTouchstart(e: TouchEvent): void;
    onLoop(time?: number): void;
    private setUniform_;
    private parseTextures_;
    private createUniforms_;
    private updateUniforms_;
    private isVisible_;
    private isAnimated_;
    private isDirty_;
    private sizeDidChanged_;
    load(fragmentString?: string, vertexString?: string): Promise<boolean>;
    getContext_(): WebGLRenderingContext | WebGL2RenderingContext;
    createContext_(): boolean;
    test(fragmentString?: string, vertexString?: string): Promise<any>;
    destroyContext_(): void;
    swapCanvas_(): void;
    destroy(): void;
    loadTexture(key: string, urlElementOrData: string | HTMLCanvasElement | HTMLImageElement | HTMLVideoElement | Element | ITextureData, options?: ITextureOptions): void;
    setTexture(key: string, urlElementOrData: string | HTMLCanvasElement | HTMLImageElement | HTMLVideoElement | Element | ITextureData, options?: ITextureOptions): void;
    setUniform(key: string, ...values: any[]): void;
    setUniformOfInt(key: string, values: any[]): void;
    setUniforms(values: IUniformOption): void;
    pause(): void;
    play(): void;
    toggle(): void;
    checkRender(): void;
    render(): void;
}
